// synapse version 2.0.1
// timestamp 1366388252485
var onswipe={host:"http://synapse.onswipe.com",usernameRegex:/\?usr=([A-Za-z0-9\-]+)/,synapseElement:"script#onswipe_synapse",redirect:!1,supported:!1,standalone:!1,devicesSupported:["ipad","kindle_fire","android","iphone","nexus_chrome"]};onswipe.createIframe=function(e){var n=document.createElement("iframe");return n.src=e,n.name="onswipe_synapse_iframe",n.style.display="none",n},onswipe.getUsername=function(){if(window.ONSWIPE_USR)return window.ONSWIPE_USR;var e=document.querySelector(onswipe.synapseElement);if(!e||!e.src)return!1;var n=e.src.match(onswipe.usernameRegex);return!n||2>n.length?!1:n[1]},onswipe.handleMessage=function(e){try{if(e.origin==onswipe.host&&e.data&&~e.data.indexOf("redirect: http://")){var n=e.data.replace("redirect: ","");top===self?window.location=n:self.parent.location=n}}catch(i){}},onswipe.determineDevice=function(){var e="unknown",n=navigator.userAgent.toLowerCase();return~n.indexOf("ipad")?e="ipad":~n.indexOf("silk-accelerated")||~n.indexOf("kindle")?e="kindle_fire":~n.indexOf("android")?e=~n.indexOf("nexus 7")&&~n.indexOf("chrome")?"nexus_chrome":~n.indexOf("mobile")?"android_mobile":"android_tablet":~n.indexOf("iphone")&&(e="iphone"),e},navigator&&navigator.standalone&&(onswipe.standalone=!0);try{~document.URL.indexOf("onswipe_redirect=no")?onswipe.redirect="no":~document.URL.indexOf("onswipe_redirect=never")&&(onswipe.redirect="never"),onswipe.device=onswipe.determineDevice(),~onswipe.devicesSupported.indexOf(onswipe.device)&&(onswipe.supported=!0),onswipe.usr=onswipe.getUsername()}catch(e){}onswipe.supported&&!onswipe.redirect&&(onswipe.referrer=document.referrer?document.referrer:"",onswipe.frameUrl=onswipe.host+"/v2/frame"+"?usr="+onswipe.usr+"&url="+encodeURIComponent(location.href)+"&device="+onswipe.device+"&ref="+encodeURIComponent(onswipe.referrer),onswipe.iframe=onswipe.createIframe(onswipe.frameUrl),document.head.appendChild(onswipe.iframe),window.addEventListener("message",onswipe.handleMessage,!1)),"never"==onswipe.redirect&&(onswipe.frameUrl=onswipe.host+"/v2/out?usr="+onswipe.usr,onswipe.iframe=onswipe.createIframe(onswipe.frameUrl),document.head.appendChild(onswipe.iframe));